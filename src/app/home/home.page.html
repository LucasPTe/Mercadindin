<ion-toolbar>
  <ion-title>MercaDinDin</ion-title>
</ion-toolbar>

<!-- Seção de cards -->
<ion-content>
  <ion-card *ngFor="let product of products">
    <ion-card-header>
      <ion-card-title>{{ product.title }}</ion-card-title>
      <ion-card-subtitle>{{ product.subtitle }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-thumbnail slot="start">
            <img [src]="product.image" [alt]="product.title" class="img_card"/>
          </ion-thumbnail>
          <ion-label>{{ product.price }}</ion-label>
          <!-- Botão para abrir o modal específico -->
          <ion-button expand="block" (click)="setOpen(true, product)">Ver mais</ion-button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Modal -->
  <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>{{ selectedProduct?.title }}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setOpen(false)">Fechar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <img [src]="selectedProduct?.image" [alt]="selectedProduct?.title" class="img_card_modal">
        <p>{{ selectedProduct?.description }}</p>
        <p><a href="https://maps.app.goo.gl/evkaEqMW19z1WUnV7" target="_blank" rel="noopener noreferrer">Av. Brás de Pina, 201 - Penha, Rio de Janeiro - RJ, 21070-031</a></p>
        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d2283.7207466816517!2d-43.2806515!3d-22.84193!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x997bb97f6feaab%3A0x83566a57e4ea3361!2sSupermercados%20Guanabara!5e1!3m2!1spt-BR!2sbr!4v1727489011729!5m2!1spt-BR!2sbr" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>